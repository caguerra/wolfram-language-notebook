import * as vscode from "vscode";

export const wlTokensProvider = {
  defaultToken: 'invalid',

  operators: /![!=]?|\&\&?|'|\*[*=]?|\+[+=]?|,|-[-=>]?|\.{1,3}|\/(?:[@;:=*]|\.(?![0-9])|\/[.@=])?|:[:=>]?|;;?|<(?:[<>=]|->)?|=(?:==?|!=)?|>(?:>>?|=)?|\?\??|@(?:@@?|\*)?|\^(?::=|=)?|_(?:__?|\.)?|\|(?:\||->)?|~~?/,
  boxOperators: /\\[!%&()*+\/@^_` ]/,
  operatorLike: /[\u00ac\u00b1\u00b7\u00d7\u00f7\u2018-\u2019\u201c-\u201d\u2062\u2190-\u2199\u21a4-\u21a7\u21bc-\u21c6\u21cb-\u21cc\u21d0-\u21d5\u21e4-\u21e5\u21f5\u2200\u2202-\u2204\u2206-\u2209\u220b-\u220d\u220f-\u2213\u2215-\u2216\u2218\u221a-\u221b\u221d\u2223\u2225-\u2228\u222b\u222e-\u222f\u2232-\u2237\u223c\u2240-\u2245\u2247-\u2249\u224d-\u2250\u2260-\u2262\u2264-\u226b\u226d-\u2289\u228e-\u2297\u2299\u22a2-\u22a5\u22a8\u22b2-\u22b5\u22bb-\u22bd\u22c0-\u22c4\u22c6\u22da-\u22db\u22e0-\u22e3\u22e8-\u22ed\u2308-\u230b\u2322-\u2323\u2329-\u232a\u27c2\u27f5-\u27fa\u2912-\u2913\u294e-\u2961\u296e-\u2970\u29cf-\u29d0\u29e6\u2a7d-\u2a7e\u2aa1-\u2aa2\u2aaf-\u2ab0\u2ae4\u301a-\u301b\uf113-\uf114\uf120\uf361\uf39e\uf3a8-\uf3a9\uf3b3-\uf3b4\uf3c7-\uf3c9\uf3ce\uf3d0-\uf3de\uf400-\uf402\uf412-\uf413\uf422-\uf424\uf427-\uf429\uf42b\uf42d-\uf42f\uf431-\uf432\uf434-\uf43a\uf4a0-\uf4a5\uf51f-\uf520\uf522-\uf523\uf525-\uf526\uf52a-\uf52b\uf530\uf603-\uf606\uf74b-\uf74c\uf765\uf76d\uf7d9]|\\(?:(?:\.|:00|\|0000)(?:AC|ac|[bB][17]|[dDfF]7)|(?:2(?:54|6[17])|3[26]7)|(?::|\|00)(?:2(?:0(?:1[89CDcd]|62)|1(?:9[0-9]|B[C-F]|C[0-6BC]|b[c-f]|c[0-6bc]|[aA][4-7]|[dD][0-5]|[eE][45]|[fF]5)|2(?:0[02-46-9B-DFb-df]|1[0-3568ABDabd]|2[35-8BEFbef]|3[2-7Cc]|4[0-57-9D-Fd-f]|50|6[0-24-9ABD-Fabd-f]|7[0-9A-Fa-f]|8[0-9EFef]|9[0-79]|B[2-5B-D]|D[AB]|E[0-389A-D]|b[2-5b-d]|d[ab]|e[0-389a-d]|[aA][2-58]|[cC][0-46])|3(?:0[89ABab]|2[239Aa])|7(?:F[5-9A]|f[5-9a]|[cC]2)|9(?:1[23]|4[EFef]|5[0-9A-Fa-f]|6[01EFef]|CF|cf|[eE]6|[7dD]0)|A(?:7[DE]|A[12F]|B0|E4)|a(?:7[de]|a[12f]|b0|e4))|301[ABab]|F(?:1(?:1[34]|20)|3(?:61|9E|A[89]|B[34]|C[7-9E]|D[0-9A-E])|4(?:0[0-2]|1[23]|2[2-47-9BD-F]|3[124-9A]|A[0-5])|5(?:1F|2[02356AB]|30)|60[3-6]|7(?:4[BC]|6[5D]|D9))|f(?:1(?:1[34]|20)|3(?:61|9e|a[89]|b[34]|c[7-9e]|d[0-9a-e])|4(?:0[0-2]|1[23]|2[2-47-9bd-f]|3[124-9a]|a[0-5])|5(?:1f|2[02356ab]|30)|60[3-6]|7(?:4[bc]|6[5d]|d9))))|\\\[(?:A(?:nd|pplication|uto(?:LeftMatch|RightMatch))|B(?:ackslash|ecause)|C(?:ap(?:|italDifferentialD)|enterDot|ircle(?:Dot|Minus|Plus|Times)|lo(?:ckwiseContourIntegral|seCurly(?:DoubleQuote|Quote))|o(?:lon|n(?:ditioned|gruent|jugate(?:|Transpose)|t(?:inuedFractionK|ourIntegral))|product|unterClockwiseContourIntegral)|ross|u(?:beRoot|p(?:|Cap)|rl))|D(?:el|i(?:amond|fferen(?:ceDelta|tialD)|rectedEdge|s(?:crete(?:Ratio|Shift)|tributed)|v(?:ergence|i(?:de[s]?|sionSlash)))|o(?:tEqual|uble(?:ContourIntegral|DownArrow|L(?:eft(?:Arrow|RightArrow|Tee)|ong(?:Left(?:Arrow|RightArrow)|RightArrow))|Right(?:Arrow|Tee)|Up(?:Arrow|DownArrow)|VerticalBar)|wn(?:Arrow(?:|Bar|UpArrow)|Left(?:RightVector|TeeVector|Vector(?:|Bar))|Right(?:TeeVector|Vector(?:|Bar))|Tee(?:|Arrow))))|E(?:lement|qu(?:al(?:|Tilde)|i(?:librium|valent))|x(?:ists|pectationE))|F(?:orAll|unction)|Gr(?:adient|eater(?:Equal(?:|Less)|FullEqual|Greater|Less|SlantEqual|Tilde))|H(?:ermitianConjugate|ump(?:DownHump|Equal))|I(?:mpli(?:citPlus|es)|n(?:te(?:gral|rsection)|visible(?:Application|Comma|P(?:ostfixScriptBase|refixScriptBase)|Times)))|L(?:aplacian|e(?:ft(?:A(?:ngleBracket|rrow(?:|Bar|RightArrow)|ssociation)|BracketingBar|Ceiling|Do(?:ubleBracket(?:|ingBar)|wn(?:TeeVector|Vector(?:|Bar)))|Floor|Right(?:Arrow|Vector)|T(?:ee(?:|Arrow|Vector)|riangle(?:|Bar|Equal))|Up(?:DownVector|TeeVector|Vector(?:|Bar))|Vector(?:|Bar))|ss(?:Equal(?:|Greater)|FullEqual|Greater|Less|SlantEqual|Tilde))|imit|o(?:ng(?:Equal|Left(?:Arrow|RightArrow)|RightArrow)|wer(?:LeftArrow|RightArrow)))|M(?:axLimit|in(?:Limit|us(?:|Plus)))|N(?:and|ested(?:GreaterGreater|LessLess)|o(?:r|t(?:|C(?:ongruent|upCap)|DoubleVerticalBar|E(?:lement|qual(?:|Tilde)|xists)|Greater(?:|Equal|FullEqual|Greater|Less|SlantEqual|Tilde)|Hump(?:DownHump|Equal)|Le(?:ftTriangle(?:|Bar|Equal)|ss(?:|Equal|FullEqual|Greater|Less|SlantEqual|Tilde))|Nested(?:GreaterGreater|LessLess)|Precedes(?:|Equal|SlantEqual|Tilde)|R(?:everseElement|ightTriangle(?:|Bar|Equal))|S(?:quareSu(?:bset(?:|Equal)|perset(?:|Equal))|u(?:bset(?:|Equal)|cceeds(?:|Equal|SlantEqual|Tilde)|perset(?:|Equal)))|Tilde(?:|Equal|FullEqual|Tilde)|VerticalBar)))|O(?:penCurly(?:DoubleQuote|Quote)|r)|P(?:artialD|er(?:mutationProduct|pendicular)|iecewise|lusMinus|r(?:ecedes(?:|Equal|SlantEqual|Tilde)|o(?:babilityPr|duct|portion(?:|al))))|R(?:everse(?:E(?:lement|quilibrium)|UpEquilibrium)|ight(?:A(?:ngleBracket|rrow(?:|Bar|LeftArrow)|ssociation)|BracketingBar|Ceiling|Do(?:ubleBracket(?:|ingBar)|wn(?:TeeVector|Vector(?:|Bar)))|Floor|T(?:ee(?:|Arrow|Vector)|riangle(?:|Bar|Equal))|Up(?:DownVector|TeeVector|Vector(?:|Bar))|Vector(?:|Bar))|oundImplies|ule(?:|Delayed))|S(?:hort(?:DownArrow|LeftArrow|RightArrow|UpArrow)|mallCircle|q(?:rt|uare(?:|Intersection|Su(?:bset(?:|Equal)|perset(?:|Equal))|Union))|tar|u(?:bset(?:|Equal)|c(?:ceeds(?:|Equal|SlantEqual|Tilde)|hThat)|m|perset(?:|Equal)))|T(?:ensor(?:Product|Wedge)|herefore|i(?:lde(?:|Equal|FullEqual|Tilde)|mes)|ranspose|woWayRule)|U(?:n(?:directedEdge|ion(?:|Plus))|p(?:Arrow(?:|Bar|DownArrow)|DownArrow|Equilibrium|per(?:LeftArrow|RightArrow)|Tee(?:|Arrow)))|Ve(?:ctor(?:Greater(?:|Equal)|Less(?:|Equal))|e|rtical(?:Bar|Separator|Tilde))|Wedge|X(?:nor|or))\]/,
  letterLike: /[^\u0000-\u0023\u0025-\u0040\u005b-\u0060\u007b-\u007f\u00a0\u00ac\u00b1\u00b7\u00d7\u00f7\u2005\u2009-\u200a\u2018-\u2019\u201c-\u201d\u2028-\u2029\u2043\u205f-\u2060\u2062\u2190-\u2199\u21a4-\u21a7\u21bc-\u21c6\u21cb-\u21cc\u21d0-\u21d5\u21e4-\u21e5\u21f5\u2200\u2202-\u2204\u2206-\u2209\u220b-\u220d\u220f-\u2213\u2215-\u2216\u2218\u221a-\u221b\u221d\u2223\u2225-\u2228\u222b\u222e-\u222f\u2232-\u2237\u223c\u2240-\u2245\u2247-\u2249\u224d-\u2250\u2260-\u2262\u2264-\u226b\u226d-\u2289\u228e-\u2297\u2299\u22a2-\u22a5\u22a8\u22b2-\u22b5\u22bb-\u22bd\u22c0-\u22c4\u22c6\u22da-\u22db\u22e0-\u22e3\u22e8-\u22ed\u2308-\u230b\u2322-\u2323\u2329-\u232a\u2423\u27c2\u27f5-\u27fa\u2912-\u2913\u294e-\u2961\u296e-\u2970\u29cf-\u29d0\u29e6\u2a7d-\u2a7e\u2aa1-\u2aa2\u2aaf-\u2ab0\u2ae4\u3000\u301a-\u301b\uf113-\uf114\uf120\uf360-\uf361\uf380\uf382-\uf384\uf39e\uf3a2-\uf3a3\uf3a8-\uf3a9\uf3ad\uf3b1-\uf3b4\uf3bd-\uf3bf\uf3c6-\uf3c9\uf3ce\uf3d0-\uf3de\uf400-\uf402\uf412-\uf413\uf422-\uf424\uf427-\uf429\uf42b\uf42d-\uf42f\uf431-\uf432\uf434-\uf43a\uf4a0-\uf4a5\uf51e-\uf520\uf522-\uf523\uf525-\uf526\uf52a-\uf52b\uf530\uf603-\uf606\uf74b-\uf74c\uf760-\uf762\uf765\uf767\uf76d-\uf76f\uf7d9\uf7fc]|\\(?!(?:(?:\.|:00|\|0000)(?:2[0-35-9A-Fa-f]|A[0C]|a[0c]|[013][0-9A-Fa-f]|[46]0|[57][B-Fb-f]|[bB][17]|[dDfF]7)|(?:0(?:4[0-35-7]|[0-35-7][0-7])|1(?:[04]0|[37][3-7])|2(?:40|54|6[17])|3[26]7)|(?::|\|00)(?:2(?:0(?:0[59Aa]|1[89CDcd]|2[89]|43|5[Ff]|6[02])|1(?:9[0-9]|B[C-F]|C[0-6BC]|b[c-f]|c[0-6bc]|[aA][4-7]|[dD][0-5]|[eE][45]|[fF]5)|2(?:0[02-46-9B-DFb-df]|1[0-3568ABDabd]|2[35-8BEFbef]|3[2-7Cc]|4[0-57-9D-Fd-f]|50|6[0-24-9ABD-Fabd-f]|7[0-9A-Fa-f]|8[0-9EFef]|9[0-79]|B[2-5B-D]|D[AB]|E[0-389A-D]|b[2-5b-d]|d[ab]|e[0-389a-d]|[aA][2-58]|[cC][0-46])|3(?:0[89ABab]|2[239Aa])|423|7(?:F[5-9A]|f[5-9a]|[cC]2)|9(?:1[23]|4[EFef]|5[0-9A-Fa-f]|6[01EFef]|CF|cf|[eE]6|[7dD]0)|A(?:7[DE]|A[12F]|B0|E4)|a(?:7[de]|a[12f]|b0|e4))|30(?:00|1[ABab])|F(?:1(?:1[34]|20)|3(?:6[01]|8[02-4]|9E|A[2389D]|B[1-4D-F]|C[6-9E]|D[0-9A-E])|4(?:0[0-2]|1[23]|2[2-47-9BD-F]|3[124-9A]|A[0-5])|5(?:1[EF]|2[02356AB]|30)|60[3-6]|7(?:4[BC]|6[0-257D-F]|D9|FC))|f(?:1(?:1[34]|20)|3(?:6[01]|8[02-4]|9e|a[2389d]|b[1-4d-f]|c[6-9e]|d[0-9a-e])|4(?:0[0-2]|1[23]|2[2-47-9bd-f]|3[124-9a]|a[0-5])|5(?:1[ef]|2[02356ab]|30)|60[3-6]|7(?:4[bc]|6[0-257d-f]|d9|fc)))))(?:[0-7]{3}|\.[0-9a-f]{2}|:[0-9a-f]{4}|\|[0-9a-f]{6})|\\\[(?:A(?:Acute|Bar|Cup|DoubleDot|E|Grave|Hat|kuz|l(?:eph|ias(?:Delimiter|Indicator)|pha|tKey)|n(?:dy|g(?:le|strom))|quariusSign|riesSign|Ring|scendingEllipsis|Tilde|uto(?:Operand|Placeholder))|B(?:e(?:amed(?:EighthNote|SixteenthNote)|t[a]?)|lack(?:Bishop|K(?:ing|night)|Pawn|Queen|Rook)|reve|ullet)|C(?:Acute|a(?:ncerSign|p(?:ital(?:A(?:Acute|Bar|Cup|DoubleDot|E|Grave|Hat|lpha|Ring|Tilde)|Beta|C(?:Acute|Cedilla|Hacek|hi)|D(?:elta|Hacek|igamma)|E(?:Acute|Bar|Cup|DoubleDot|Grave|Ha(?:cek|t)|psilon|t[ah])|Gamma|I(?:Acute|Cup|DoubleDot|Grave|Hat|ota)|K[ao]ppa|L(?:ambda|Slash)|Mu|N(?:Hacek|Tilde|u)|O(?:Acute|Double(?:Acute|Dot)|E|Grave|Hat|m(?:ega|icron)|Slash|Tilde)|P(?:i|[hs]i)|R(?:Hacek|ho)|S(?:ampi|Hacek|igma|tigma)|T(?:au|Hacek|h(?:eta|orn))|U(?:Acute|Double(?:Acute|Dot)|Grave|Hat|psilon|Ring)|Xi|YAcute|Z(?:eta|Hacek))|ricornSign))|Cedilla|e(?:dilla|nt(?:|erEllipsis))|Hacek|h(?:eck(?:edBox|mark(?:|edBox))|i)|l(?:overLeaf|ubSuit)|o(?:mmandKey|n(?:stantC|trolKey)|pyright)|ur(?:ly(?:CapitalUpsilon|Epsilon|Kappa|P(?:hi|i)|Rho|Theta)|rency))|D(?:a(?:gger|let|sh)|e(?:gree|l(?:eteKey|ta)|scendingEllipsis)|Hacek|i(?:am(?:eter|ondSuit)|gamma|scretionaryHyphen)|o(?:t(?:less[IJ]|tedSquare)|uble(?:D(?:agger|ot)|d(?:Gamma|Pi)|Prime|Struck(?:[ABDGHIJKLMPQRUVWXY]|C(?:|apital[A-FGHIJKLMNOPQRSTUVWXYZ])|E(?:|ight)|F(?:|ive|our)|N(?:|ine)|O(?:|ne)|S(?:|even|ix)|T(?:|hree|wo)|Z(?:|ero)))|wn(?:Breve|Exclamation|Pointer|Question)))|E(?:Acute|arth|Bar|Cup|DoubleDot|Grave|Ha(?:cek|t)|ighthNote|llipsis|mpty(?:Circle|D(?:iamond|ownTriangle)|Rectangle|S(?:et|mall(?:Circle|Square)|quare)|UpTriangle|VerySmallSquare)|nt(?:erKey|ity(?:End|Start))|psilon|scapeKey|t[ah]|uro|xponentialE)|F(?:i(?:Ligature|lled(?:Circle|D(?:iamond|ownTriangle)|LeftTriangle|R(?:ectangle|ightTriangle)|S(?:mall(?:Circle|Square)|quare)|UpTriangle|VerySmallSquare)|nalSigma|rstPage|vePointedStar)|l(?:at|Ligature|orin)|ormal(?:[HJQVWY]|A(?:|lpha)|C(?:|apital(?:[FHJQVWY]|A(?:|lpha)|C(?:|hi)|D(?:|elta|igamma)|E(?:|psilon|ta)|G(?:|amma)|I(?:|ota)|K(?:|[ao]ppa)|L(?:|ambda)|O(?:|m(?:ega|icron))|P(?:|i|[hs]i)|R(?:|ho)|S(?:|ampi|igma|tigma)|T(?:|au|heta)|U(?:|psilon)|X[i]?|[BZ](?:|eta)|[MN][u]?)|hi|urly(?:CapitalUpsilon|Epsilon|Kappa|P(?:hi|i)|Rho|Theta))|D(?:|elta|igamma)|E(?:|psilon|ta)|F(?:|inalSigma)|G(?:|amma)|I(?:|ota)|K(?:|[ao]ppa)|L(?:|ambda)|O(?:|m(?:ega|icron))|P(?:|i|[hs]i)|R(?:|ho)|S(?:|ampi|igma|tigma)|T(?:|au|heta)|U(?:|psilon)|X[i]?|[BZ](?:|eta)|[MN][u]?)|re(?:akedSmiley|eformPrompt))|G(?:amma|eminiSign|imel|othic(?:[ABDGHIJKLMPQRUVWXY]|C(?:|apital[A-FGHIJKLMNOPQRSTUVWXYZ])|E(?:|ight)|F(?:|ive|our)|N(?:|ine)|O(?:|ne)|S(?:|even|ix)|T(?:|hree|wo)|Z(?:|ero))|ray(?:Circle|Square))|H(?:a(?:cek|ppySmiley)|Bar|eartSuit|orizontalLine|yphen)|I(?:Acute|Cup|DoubleDot|Grave|Hat|maginary[IJ]|nfinity|ota)|Jupiter|K(?:e(?:rnelIcon|yBar)|[ao]ppa)|L(?:a(?:mbda|stPage)|e(?:ft(?:Guillemet|Modified|Pointer)|oSign|tterSpace)|i(?:braSign|ghtBulb)|ongDash|Slash)|M(?:a(?:rs|thematicaIcon)|e(?:asuredAngle|rcury)|ho|icro|o(?:d[12]Key|on)|u)|N(?:atural|e(?:ptune|utralSmiley)|Hacek|Tilde|u(?:|ll|mberSign))|O(?:Acute|Double(?:Acute|Dot)|E|Grave|Hat|m(?:ega|icron)|ptionKey|Slash|Tilde|ver(?:Brac(?:e|ket)|Parenthesis))|P(?:aragraph|i(?:|scesSign)|l(?:aceholder|uto)|rime|[hs]i)|QuarterNote|R(?:e(?:gisteredTrademark|turn(?:Indicator|Key)|verse(?:DoublePrime|Prime))|Hacek|ho|ight(?:Angle|Guillemet|Modified|Pointer)|upee)|S(?:a(?:dSmiley|gittariusSign|mpi|turn)|c(?:orpioSign|ript(?:[ABGHIJKLMPQRUVWXY]|C(?:|apital[A-FGHIJKLMNOPQRSTUVWXYZ])|D(?:|otless[IJ])|E(?:|ight)|F(?:|ive|our)|N(?:|ine)|O(?:|ne)|S(?:|even|ix)|T(?:|hree|wo)|Z(?:|ero)))|e(?:ction|lectionPlaceholder)|Hacek|h(?:a(?:h|rp)|iftKey)|i(?:gma|xPointedStar)|p(?:a(?:ceKey|deSuit|nFrom(?:Above|Both|Left))|hericalAngle|ooky)|t(?:e(?:pper(?:Down|Left|Right|Up)|rling)|igma)|un|ystem(?:EnterKey|sModelDelay)|Z)|T(?:a(?:bKey|u(?:|rusSign))|Hacek|h(?:eta|orn)|r(?:ademark|ipleDot))|U(?:Acute|Double(?:Acute|Dot)|Grave|Hat|n(?:der(?:Brac(?:e|ket)|Parenthesis)|knownGlyph)|p(?:Pointer|silon)|ranus|Ring)|V(?:e(?:nus|rtical(?:Ellipsis|Line))|i(?:lla|rgoSign))|W(?:a(?:rningSign|tchIcon)|eierstrassP|hite(?:Bishop|K(?:ing|night)|Pawn|Queen|Rook)|olf(?:|ram(?:AlphaPrompt|LanguageLogo(?:|Circle))))|Xi|Y(?:Acute|DoubleDot|en)|Z(?:eta|Hacek))\]/,
  numberLike: /[\u0030-\u0039]|\\(?:(?:\.|:00|\|0000)3[0-9]|0(?:6[0-7]|7[01]))/,
  whitespaceLike: /[\u0009-\u000a\u000c-\u000d\u0020\u00a0\u2005\u2009-\u200a\u2028-\u2029\u205f-\u2060\u2423\uf360\uf380\uf382-\uf384\uf3a3\uf3ad\uf3b1-\uf3b2\uf3bd-\uf3bf\uf3c6\uf760\uf76e-\uf76f]|\\(?:(?:\.|:00|\|0000)(?:0[9ACDacd]|[2aA]0)|(?:0(?:1[1245]|40)|240)|(?::|\|00)(?:2(?:0(?:0[59Aa]|2[89]|5[Ff]|60)|423)|F(?:3(?:60|8[02-4]|A[3D]|B[12D-F]|C6)|76[0EF])|f(?:3(?:60|8[02-4]|a[3d]|b[12d-f]|c6)|76[0ef])))|\\\[(?:A(?:lignmentMarker|utoSpace)|Continuation|Discretionary(?:LineSeparator|Pa(?:geBreak(?:Above|Below)|ragraphSeparator))|In(?:dentingNewLine|visibleSpace)|LineSeparator|MediumSpace|N(?:egative(?:MediumSpace|Thi(?:ckSpace|nSpace)|VeryThinSpace)|o(?:Break|nBreakingSpace))|Pa(?:geBreak(?:Above|Below)|ragraphSeparator)|RoundSpaceIndicator|SpaceIndicator|Thi(?:ckSpace|nSpace)|VeryThinSpace)\]/,
  symbolSegment: /(?:@letterLike)(?:@letterLike|@numberLike)*/,
  symbols: /`?(?:@symbolSegment`)*@symbolSegment/,
  strings: /"(?:(?!")(?:\\.|[^\\]))*?"/,
  numbers: /(?:\d+\^\^(?:[A-Za-z0-9]+\.?|\.[A-Za-z0-9])[A-Za-z0-9]*|(?:\d+\.?|\.\d)\d*)(?:``?-?(?:\d+\.?|\.\d)\d*|`)?(?:\*\^\d+)?/,
  longNames: /\\\[.+?\]/,
  escaped: /\\(?:[0-7]{3}|\.[0-9a-fA-F]{2}|:[0-9a-fA-F]{4}|\|[0-9a-fA-F]{6})/,
  escapedInvalid: /\\(?:[0-7](?![0-7]{2}).{2}|\.(?![0-9-a-fA-F]{2}).{2}|:(?![0-9-a-fA-F]{4}).{4}|\|(?![0-9-a-fA-F]{6}).{6})/,

  tokenizer: {
    root: [
      [/(?:@whitespaceLike)+|\\$/, "white"],
      [/\(\*/, "comment", "@comment"],
      [/@strings/, "string"],
      [/@symbols/, "identifier"],
      [/@numbers/, "number"],
      [/@operators|@boxOperators|@operatorLike/, "operator"],
      [/[()\[\]\{\}]|<\||\|>/, "operator.bracket"],
      [/@escaped/, "identifier"],
      [/@escapedInvalid/, "invalid"],
      [/@longNames/, "invalid"],
      [/#(?:#?[0-9]*|(?:@symbols|@strings)?)?/, "slot"], // Slot
      [/%(?:%+|[0-9]*)/, "operator"], // Out
    ],

    comment: [
      [/[^\(\*]+/, "comment"],
      [/\(\*/, "comment", "@push"], // nested comment
      [/\*\)/, "comment", "@pop"],
      [/[\(\*]/, "comment"]
    ],
  },
};

// const completionItemsProvider = {
//   provideCompletionItems: function(model, position) {
//     const prefixText = model.getValueInRange({
//       startLineNumber: position.lineNumber,
//       endLineNumber: position.lineNumber,
//       startColumn: 1,
//       endColumn: position.column});
//     const prefixWord = (prefixText.match(/[^$A-Z0-9]?([$A-Z][$A-Za-z0-9]*)$/) || [])[1];
//     if (!prefixWord) {
//       return { suggestions: [] };
//     }
//     const range = {
//       startLineNumber: position.lineNumber,
//       endLineNumber: position.lineNumber,
//       startColumn: position.column - prefixWord.length,
//       endColumn: position.column
//     };
//     return {
//       suggestions: wlSymbolData.map(entry => ({
//         label: entry.name,
//         kind: (entry.type === "function" ? monaco.languages.CompletionItemKind.Function : monaco.languages.CompletionItemKind.Constant),
//         sortText: entry.rank.toString().padStart(5, "0"),
//         documentation: {
//           isTrusted: true,
//           supportHtml: true,
//           value: entry.usage
//         },
//         insertText: entry.name,
//         range: range
//       }))
//     };
//   }
// }
